{"version":3,"sources":["src/util.js","src/global/WaveWindow.js","src/global/Dialog.js","src/global/Button.js","src/global/Alert.js","src/global/Confirm.js","src/index.js","node_modules/parcel/src/builtins/bundle-url.js","node_modules/parcel/src/builtins/css-loader.js"],"names":["$element","el","props","children","$el","document","createElement","Object","entries","forEach","k","v","substring","addEventListener","toLowerCase","setAttribute","Array","isArray","filter","$child","appendChild","createTextNode","maxZIndex","createTitle","title","onMove","onMoveStart","onClose","mousedown","pos","$title","class","windowTitle","titleButton","onClick","src","closeIcon","ev","pageX","pageY","window","originalX","originalY","WaveWindow","dark","width","height","theme","position","lockedPosition","$window","windowCss","tabIndex","x","y","style","transform","prepend","$wrapper","wrapper","activate","requestAnimationFrame","$firstButton","querySelector","focus","zIndex","Dialog","buttons","icon","text","location","href","$dialog","dialog","message","glyph","buttonsCss","Button","button","Alert","Confirm","withCloseWrapper","fn","Promise","yay","nay","state","$item","remove","body","promisified","closeWrapper","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["export const $element = (el, props = {}, children = []) => {\n\tconst $el = document.createElement(el);\n\tObject.entries(props).forEach(([k, v]) => {\n\t\tif (k === 'onCreateElement') {\n\t\t\tv();\n\t\t}\n\t\tif (k.substring(0, 2) === 'on') {\n\t\t\t$el.addEventListener(k.substring(2).toLowerCase(), v);\n\t\t} else {\n\t\t\t$el.setAttribute(k, v);\n\t\t}\n\t});\n\n\tif (!Array.isArray(children)) children = [children];\n\tchildren\n\t\t.filter($child => !!$child)\n\t\t.forEach($child => {\n\t\t\tif (typeof $child === 'string' || typeof $child === 'number') {\n\t\t\t\t$el.appendChild(document.createTextNode($child));\n\t\t\t} else {\n\t\t\t\t$el.appendChild($child);\n\t\t\t}\n\t\t});\n\n\treturn $el;\n};\n","import { $element } from '../util';\nimport {\n\twindow as windowCss,\n\ttitleButton,\n\twindowTitle,\n\twrapper,\n} from './WaveWindow.css';\nimport closeIcon from '../static/close.gif';\n\nlet maxZIndex = 10;\n\nconst createTitle = ({ title, onMove, onMoveStart, onClose }) => {\n\tlet mousedown = false;\n\tlet pos = [0, 0];\n\n\tconst $title = $element('header', { class: windowTitle }, [\n\t\ttitle,\n\t\t$element(\n\t\t\t'button',\n\t\t\t{\n\t\t\t\tclass: titleButton,\n\t\t\t\tonClick: onClose,\n\t\t\t},\n\t\t\t$element('img', { src: closeIcon })\n\t\t),\n\t]);\n\n\t$title.addEventListener('mousedown', ev => {\n\t\tpos = [ev.pageX, ev.pageY];\n\t\tonMoveStart();\n\t\tmousedown = true;\n\t});\n\twindow.addEventListener('mouseup', () => {\n\t\tmousedown = false;\n\t});\n\twindow.addEventListener('mousemove', ({ pageX, pageY }) => {\n\t\tif (mousedown) {\n\t\t\tconst [originalX, originalY] = pos;\n\t\t\tonMove(pageX - originalX, pageY - originalY);\n\t\t}\n\t});\n\n\treturn $title;\n};\n\nconst WaveWindow = (\n\t{ title, dark, width, height, onClose, theme },\n\tchildren\n) => {\n\tlet position = [0, 0];\n\tlet lockedPosition = [...position];\n\n\tconst $window = $element('dialog', { class: windowCss, tabIndex: 0 }, [\n\t\t$element('main', {}, children),\n\t]);\n\tconst $title = createTitle({\n\t\ttitle,\n\t\tonMoveStart: () => {\n\t\t\tlockedPosition = [...position];\n\t\t},\n\t\tonMove: (x, y) => {\n\t\t\tposition = [lockedPosition[0] + x, lockedPosition[1] + y];\n\t\t\t$window.style.transform = `translateX(${position[0]}px) translateY(${\n\t\t\t\tposition[1]\n\t\t\t}px)`;\n\t\t},\n\t\tonClose,\n\t});\n\t$window.prepend($title);\n\tconst $wrapper = $element(\n\t\t'div',\n\t\t{ class: wrapper, 'data-dark': dark, 'data-theme': theme },\n\t\t[$window]\n\t);\n\tif (width) {\n\t\t$window.style.width = width + 'px';\n\t}\n\tif (height) {\n\t\t$window.style.height = height + 'px';\n\t}\n\n\t$wrapper.activate = () => {\n\t\trequestAnimationFrame(() => {\n\t\t\tconst $firstButton = $window.querySelector('main button');\n\t\t\tif ($firstButton) {\n\t\t\t\t$firstButton.focus();\n\t\t\t} else {\n\t\t\t\t$window.focus();\n\t\t\t}\n\t\t});\n\t};\n\n\t$window.addEventListener('focus', () => {\n\t\tmaxZIndex++;\n\t\t$wrapper.style.zIndex = maxZIndex;\n\t});\n\n\treturn $wrapper;\n};\n\nexport { WaveWindow };\n","import { $element } from '../util';\n\nimport { message, buttons as buttonsCss, dialog } from './Dialog.css';\nimport { glyph } from '../static/glyph.css';\n\nexport const Dialog = ({ buttons, icon, text }) => {\n\tif (!text) {\n\t\ttext = 'The window at ' + window.location.href + ' says nothing';\n\t}\n\tconst $dialog = $element('div', { class: dialog }, [\n\t\t$element('div', { class: message, 'data-icon': !!icon }, [\n\t\t\ticon &&\n\t\t\t\t$element('span', {\n\t\t\t\t\tclass: glyph,\n\t\t\t\t\t'data-glyph': icon,\n\t\t\t\t}),\n\t\t\ttext,\n\t\t]),\n\t\t$element('div', { class: buttonsCss }, buttons),\n\t]);\n\treturn $dialog;\n};\n","import { $element } from '../util';\nimport { button } from './Button.css';\n\nconst Button = (props, children) =>\n\t$element(\n\t\t'button',\n\t\t{\n\t\t\tclass: button,\n\t\t\t...props,\n\t\t},\n\t\tchildren\n\t);\n\nexport { Button };\n","import { Dialog } from './Dialog';\nimport { Button } from './Button';\n\nconst Alert = ({ icon, text, onClose }) =>\n\tDialog({\n\t\tbuttons: [\n\t\t\tButton(\n\t\t\t\t{\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tonClose(true);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'OK'\n\t\t\t),\n\t\t],\n\t\ticon,\n\t\ttext,\n\t});\n\nexport { Alert };\n","import { Dialog } from './Dialog';\nimport { Button } from './Button';\n\nconst Confirm = ({ icon, text, onClose }) =>\n\tDialog({\n\t\tbuttons: [\n\t\t\tButton(\n\t\t\t\t{\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tonClose(true);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'OK'\n\t\t\t),\n\t\t\tButton(\n\t\t\t\t{\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'Cancel'\n\t\t\t),\n\t\t],\n\t\ticon,\n\t\ttext,\n\t});\n\nexport { Confirm };\n","import { WaveWindow } from './global/WaveWindow';\nimport { Dialog } from './global/Dialog';\nimport { Alert } from './global/Alert';\nimport { Confirm } from './global/Confirm';\n\nconst withCloseWrapper = fn => () =>\n\tnew Promise((yay, nay) => {\n\t\tconst onClose = state => {\n\t\t\t$item.remove();\n\t\t\tstate ? yay() : nay();\n\t\t};\n\t\tconst $item = fn(onClose);\n\t\tdocument.body.appendChild($item);\n\t\tif ($item.activate) {\n\t\t\t$item.activate();\n\t\t}\n\t});\n\nconst promisified = {\n\tAlert: ({ ...props }) =>\n\t\twithCloseWrapper(closeWrapper =>\n\t\t\tWaveWindow(\n\t\t\t\t{ ...props, onClose: () => closeWrapper(false) },\n\t\t\t\tAlert({ ...props, onClose: closeWrapper })\n\t\t\t)\n\t\t),\n\tConfirm: ({ ...props }) =>\n\t\twithCloseWrapper(closeWrapper =>\n\t\t\tWaveWindow(\n\t\t\t\t{ ...props, onClose: () => closeWrapper(false) },\n\t\t\t\tConfirm({ ...props, onClose: closeWrapper })\n\t\t\t)\n\t\t),\n};\n\nexport { promisified, Alert, Confirm, Dialog, WaveWindow };\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}